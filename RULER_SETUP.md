# Ruler Setup for CS366 Syllabot

This repository uses [Ruler](https://github.com/intellectronica/ruler) to automatically generate agent instruction files for multiple popular coding agents from a single source of truth.

## What is Ruler?

Ruler is a tool that centralizes AI agent instructions and automatically distributes them to configuration files for different AI coding assistants. This eliminates the need to maintain separate instruction files for each agent.

## Setup

The repository is configured with:

- **Source Instructions**: `.ruler/instructions.md` - Contains the complete CS366 Syllabot instructions
- **Configuration**: `.ruler/ruler.toml` - Defines which agents to support and their output paths
- **Generated Files**: Multiple agent-specific instruction files (see list below)

## Supported Agents

The following popular coding agents are configured and supported:

### Primary Agents
- **Claude Code** → `CLAUDE.md` (original file, not generated by Ruler)
- **GitHub Copilot** → `.github/copilot-instructions.md`
- **Cursor** → `.cursor/rules/ruler_cursor_instructions.mdc`
- **Aider** → `ruler_aider_instructions.md` + `.aider.conf.yml`
- **Windsurf** → `.windsurf/rules/ruler_windsurf_instructions.md`
- **Cline** → `.clinerules`
- **OpenHands** → `.openhands/microagents/repo.md`

### Additional Agents
- **OpenAI Codex CLI** → `AGENTS.md` + `.codex/config.toml`
- **Gemini CLI** → `GEMINI.md`
- **Kilo Code** → `.kilocode/rules/ruler_kilocode_instructions.md`

## Usage

### Updating Instructions

1. Edit the source file: `.ruler/instructions.md`
2. Run: `ruler apply`
3. All agent-specific files will be automatically updated

### Adding New Agents

1. Edit `.ruler/ruler.toml` to add new agent configurations
2. Run: `ruler apply`
3. New agent files will be generated

### Reverting Changes

To undo all ruler-generated files:
```bash
ruler revert
```

## File Management

- **Source Control**: The `.ruler/` directory, original `CLAUDE.md`, and `RULER_SETUP.md` are tracked in git
- **Generated Files**: All agent-specific files are automatically added to `.gitignore`
- **Backups**: Ruler automatically creates `.bak` files when modifying existing files
- **Special Case**: `CLAUDE.md` is the original source file and is preserved (not generated by Ruler)

## Benefits

1. **Single Source of Truth**: All agent instructions come from one file
2. **Consistency**: All agents receive identical instructions
3. **Easy Updates**: Change instructions once, update all agents
4. **Popular Agent Support**: Works with the most commonly used AI coding tools
5. **Automatic Management**: Generated files are automatically managed and ignored in git

## Commands

```bash
# Apply current configuration to all agents
ruler apply

# Apply to specific agents only
ruler apply --agents claude,copilot,cursor

# Verbose output
ruler apply --verbose

# Revert all changes
ruler revert

# Preview what would be reverted
ruler revert --dry-run
```

## Installation

Ruler is already installed in this repository. To install globally:

```bash
npm install -g @intellectronica/ruler
```

## Documentation

For more information about Ruler, visit:
- [Ruler GitHub Repository](https://github.com/intellectronica/ruler)
- [Ruler Documentation](https://ai.intellectronica.net/ruler)